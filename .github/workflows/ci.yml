sonarqube:
  name: SonarQube Analysis
  runs-on: ubuntu-latest

  steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: "lts/*"
        cache: npm

    - name: Install Sonar Scanner
      run: npm install -g sonar-scanner

    - name: SonarQube Scan
      run: |
        sonar-scanner -X \
          -Dsonar.projectKey=nodejs.org \
          -Dsonar.sources=. \
          -Dsonar.host.url=http://20.203.85.49:9000/ \
          -Dsonar.login=9f7e02a626cdfdb8e62471a13b73a7cab533049a
